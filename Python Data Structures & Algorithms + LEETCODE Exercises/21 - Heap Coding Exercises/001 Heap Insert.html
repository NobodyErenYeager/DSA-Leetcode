<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coding Assignment</title>

    <style>
      body {
        font-family: sf pro text, -apple-system, BlinkMacSystemFont, Roboto,
          segoe ui, Helvetica, Arial, sans-serif, apple color emoji,
          segoe ui emoji, segoe ui symbol;
        font-weight: 400;
        line-height: 22.4px;
        font-size: 16px;
      }
      p, ul, ol {
        font-size: 16px;
        font-weight: 400;
      }
      h1, h2, h3, h4, h5, h6 {
        font-weight: bold;
      }
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-width: none;
      }
      .code-snippet {
        background-color: #fff;
        border: 1px solid #d1d7dc;
        color: #b4690e;
        font-size: 90%;
        padding: 0.2rem 0.4rem;
      }
      .code-block {
        background-color: #fff;
        color: #b4690e;
        font-size: 90%;
      }
      .black-block {
        color: #000000;
      }
      .italic-text {
        font-style: italic;
      }
    </style>
  </head>

  <body onload="main()">
    <h1 id="coding-title"></h1>
    <div>
      <h2>Instructions</h2>
      <div id="coding-instructions"></div>
    </div>
    <div>
      <h2>Test(s)</h2>
      <div id="coding-tests"></div>
    </div>
    <div>
      <h2>Solution(s)</h2>
      <div id="coding-solutions"></div>
    </div>

    <script>
      const quizData = {"title": "001 Heap Insert", "hasInstructions": true, "hasTests": true, "hasSolutions": true, "instructions": "<p>You are provided with a partial implementation of a <code><strong>MaxHeap</strong></code> class. <br><br>The class includes a method for initialization, plus helper methods for getting the left child, the right child, and the parent of a node and swapping elements in the heap.<br><br>Your task is to complete this class by implementing the <code><strong>insert</strong></code> method. <br><br>This method should take an integer as input and add it to the heap. The insertion of a new element should preserve the Max Heap property, i.e., for every node <code><strong>i</strong></code> other than the root, the value of node <code><strong>i</strong></code> is less than or equal to the value of its parent, with the maximum value at the root of the heap.<br><br>Your <code><strong>insert</strong></code> method should be efficient, ideally achieving a time complexity of O(log n), where n is the number of elements in the heap. After inserting the new element at the end of the heap, you should appropriately restructure the heap to maintain the Max Heap property. This typically involves 'bubbling up' the inserted element to its correct position in the heap.<br><br>Remember to handle edge cases, for example when the heap is empty or contains only one or two elements. </p>", "tests": [{"file_name": "evaluate.py", "content": "from unittest import TestCase\n\nclass TestInsert(TestCase):\n\n    def test_insert_single_element(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(5)\n        self.assertEqual(max_heap.heap, [5])\n\n    def test_insert_duplicate_element(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(5)\n        max_heap.insert(5)\n        self.assertEqual(max_heap.heap, [5, 5])\n\n    def test_insert_multiple_increasing_elements(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(5)\n        max_heap.insert(10)\n        max_heap.insert(15)\n        self.assertEqual(max_heap.heap, [15, 5, 10])\n\n    def test_insert_multiple_decreasing_elements(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(15)\n        max_heap.insert(10)\n        max_heap.insert(5)\n        self.assertEqual(max_heap.heap, [15, 10, 5])\n\n    def test_insert_mixed_order_elements(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(15)\n        max_heap.insert(5)\n        max_heap.insert(10)\n        self.assertEqual(max_heap.heap, [15, 5, 10])\n\n    def test_insert_negative_and_positive(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(-5)\n        max_heap.insert(5)\n        self.assertEqual(max_heap.heap, [5, -5])\n\n    def test_insert_zero(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(0)\n        self.assertEqual(max_heap.heap, [0])\n\n    def test_insert_multiple_zeros(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(0)\n        max_heap.insert(0)\n        self.assertEqual(max_heap.heap, [0, 0])\n\n    def test_insert_negative_values(self):\n        import exercise\n        max_heap = exercise.MaxHeap()\n        max_heap.insert(-5)\n        max_heap.insert(-10)\n        max_heap.insert(-15)\n        self.assertEqual(max_heap.heap, [-5, -10, -15])\n\n"}], "solutions": [{"file_name": "exercise.py", "content": "class MaxHeap:\n    def __init__(self):\n        self.heap = []\n\n    def _left_child(self, index):\n        return 2 * index + 1\n\n    def _right_child(self, index):\n        return 2 * index + 2\n\n    def _parent(self, index):\n        return (index - 1) // 2\n\n    def _swap(self, index1, index2):\n        self.heap[index1], self.heap[index2] = self.heap[index2], self.heap[index1]\n\n    def insert(self, value):\n        self.heap.append(value)\n        current = len(self.heap) - 1\n\n        while current > 0 and self.heap[current] > self.heap[self._parent(current)]:\n            self._swap(current, self._parent(current))\n            current = self._parent(current)"}]};

      function renderCodeList(rootElement, codeList, className, titlePrefix) {
        for (var i = 0; i < codeList.length; i++) {
          var elem = codeList[i];
          var jsElem = document.createElement("div");
          jsElem.className = className;
          var jsElemTitle = document.createElement("h3");
          jsElemTitle.innerHTML = titlePrefix + " " + (i + 1);
          var jsElemBody = document.createElement("code");
          jsElemBody.className = "code-block black-block";
          jsElemBody.innerHTML = "<pre>" + elem.content + "</pre>";
          jsElem.appendChild(jsElemTitle);
          jsElem.appendChild(jsElemBody);
          rootElement.appendChild(jsElem);
        }
      }
      
      function main() {
        // display the assignment
        var codingTitle = document.getElementById("coding-title");
        codingTitle.innerHTML = quizData.title;
        
        var codingInstructions = document.getElementById("coding-instructions");
        if (quizData.hasInstructions) {
          codingInstructions.innerHTML = quizData.instructions;
        } else {
          codingInstructions.innerHTML = "<span class=\"italic-text\">" + quizData.instructions
            + "</span>";
        }

        // display the test(s)
        var codingTests = document.getElementById("coding-tests");
        if (!quizData.hasTests) {
          codingTests.innerHTML = "<span class=\"italic-text\">" + quizData.tests + "</span>";
        } else {
          renderCodeList(codingTests, quizData.tests, "coding-test", "Test");
        }
        

        // display the solution(s)
        var codingSolutions = document.getElementById("coding-solutions");
        if (!quizData.hasSolutions) {
          codingSolutions.innerHTML = "<span class=\"italic-text\">" + quizData.solutions + "</span>";
        } else {
          renderCodeList(codingSolutions, quizData.solutions, "coding-solution", "Solution");
        }
      }
    </script>
  </body>
</html>
