<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coding Assignment</title>

    <style>
      body {
        font-family: sf pro text, -apple-system, BlinkMacSystemFont, Roboto,
          segoe ui, Helvetica, Arial, sans-serif, apple color emoji,
          segoe ui emoji, segoe ui symbol;
        font-weight: 400;
        line-height: 22.4px;
        font-size: 16px;
      }
      p, ul, ol {
        font-size: 16px;
        font-weight: 400;
      }
      h1, h2, h3, h4, h5, h6 {
        font-weight: bold;
      }
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-width: none;
      }
      .code-snippet {
        background-color: #fff;
        border: 1px solid #d1d7dc;
        color: #b4690e;
        font-size: 90%;
        padding: 0.2rem 0.4rem;
      }
      .code-block {
        background-color: #fff;
        color: #b4690e;
        font-size: 90%;
      }
      .black-block {
        color: #000000;
      }
      .italic-text {
        font-style: italic;
      }
    </style>
  </head>

  <body onload="main()">
    <h1 id="coding-title"></h1>
    <div>
      <h2>Instructions</h2>
      <div id="coding-instructions"></div>
    </div>
    <div>
      <h2>Test(s)</h2>
      <div id="coding-tests"></div>
    </div>
    <div>
      <h2>Solution(s)</h2>
      <div id="coding-solutions"></div>
    </div>

    <script>
      const quizData = {"title": "004 MinHeap Insert", "hasInstructions": true, "hasTests": true, "hasSolutions": true, "instructions": "<p>You are provided with a partial implementation of a <code><strong>MinHeap</strong></code> class. <br><br>The class includes a method for initialization, plus helper methods for getting the left child, the right child, and the parent of a node and swapping elements in the heap.<br><br>Your task is to complete this class by implementing the <code><strong>insert</strong></code> method. <br><br>This method should take an integer as input and add it to the heap. The insertion of a new element should preserve the Min Heap property, i.e., for every node <code><strong>i</strong></code> other than the root, the value of node <code><strong>i</strong></code> is greater than or equal to the value of its parent, with the minimum value at the root of the heap.<br><br>Your <code><strong>insert</strong></code> method should be efficient, ideally achieving a time complexity of O(log n), where n is the number of elements in the heap. After inserting the new element at the end of the heap, you should appropriately restructure the heap to maintain the Min Heap property. This typically involves 'bubbling up' the inserted element to its correct position in the heap.<br><br>Remember to handle edge cases, for example when the heap is empty or contains only one or two elements. </p>", "tests": [{"file_name": "evaluate.py", "content": "from unittest import TestCase\n\nclass TestMinHeapInsert(TestCase):\n\n    def test_insert_into_empty_heap(self):\n        import exercise\n        min_heap = exercise.MinHeap()\n        min_heap.insert(5)\n        self.assertEqual(min_heap.heap, [5])\n\n    def test_insert_single_element(self):\n        import exercise\n        min_heap = exercise.MinHeap()\n        min_heap.insert(5)\n        min_heap.insert(3)\n        self.assertEqual(min_heap.heap, [3, 5])\n\n    def test_insert_multiple_elements(self):\n        import exercise\n        min_heap = exercise.MinHeap()\n        values = [5, 10, 3, 20, 1]\n        for value in values:\n            min_heap.insert(value)\n        self.assertEqual(min_heap.heap, [1, 3, 5, 20, 10])\n\n    def test_insert_maintains_heap_property(self):\n        import exercise\n        min_heap = exercise.MinHeap()\n        values = [5, 12, 3, 11, 9, 6]\n        for value in values:\n            min_heap.insert(value)\n        self.assertTrue(all(min_heap.heap[i] <= min_heap.heap[min_heap._left_child(i)] \n                            if min_heap._left_child(i) < len(min_heap.heap) else True\n                            for i in range(len(min_heap.heap))))\n        self.assertTrue(all(min_heap.heap[i] <= min_heap.heap[min_heap._right_child(i)] \n                            if min_heap._right_child(i) < len(min_heap.heap) else True\n                            for i in range(len(min_heap.heap))))\n\n    def test_insert_negative_values(self):\n        import exercise\n        min_heap = exercise.MinHeap()\n        values = [-5, -10, -15]\n        for value in values:\n            min_heap.insert(value)\n        self.assertEqual(min_heap.heap, [-15, -5, -10])\n"}], "solutions": [{"file_name": "exercise.py", "content": "class MinHeap:\n    def __init__(self):\n        self.heap = []\n\n    def _left_child(self, index):\n        return 2 * index + 1\n\n    def _right_child(self, index):\n        return 2 * index + 2\n\n    def _parent(self, index):\n        return (index - 1) // 2\n\n    def _swap(self, index1, index2):\n        self.heap[index1], self.heap[index2] = self.heap[index2], self.heap[index1]\n\n    def insert(self, value):\n        self.heap.append(value)\n        current = len(self.heap) - 1\n\n        while current > 0 and self.heap[current] < self.heap[self._parent(current)]:\n            self._swap(current, self._parent(current))\n            current = self._parent(current)\n\n "}]};

      function renderCodeList(rootElement, codeList, className, titlePrefix) {
        for (var i = 0; i < codeList.length; i++) {
          var elem = codeList[i];
          var jsElem = document.createElement("div");
          jsElem.className = className;
          var jsElemTitle = document.createElement("h3");
          jsElemTitle.innerHTML = titlePrefix + " " + (i + 1);
          var jsElemBody = document.createElement("code");
          jsElemBody.className = "code-block black-block";
          jsElemBody.innerHTML = "<pre>" + elem.content + "</pre>";
          jsElem.appendChild(jsElemTitle);
          jsElem.appendChild(jsElemBody);
          rootElement.appendChild(jsElem);
        }
      }
      
      function main() {
        // display the assignment
        var codingTitle = document.getElementById("coding-title");
        codingTitle.innerHTML = quizData.title;
        
        var codingInstructions = document.getElementById("coding-instructions");
        if (quizData.hasInstructions) {
          codingInstructions.innerHTML = quizData.instructions;
        } else {
          codingInstructions.innerHTML = "<span class=\"italic-text\">" + quizData.instructions
            + "</span>";
        }

        // display the test(s)
        var codingTests = document.getElementById("coding-tests");
        if (!quizData.hasTests) {
          codingTests.innerHTML = "<span class=\"italic-text\">" + quizData.tests + "</span>";
        } else {
          renderCodeList(codingTests, quizData.tests, "coding-test", "Test");
        }
        

        // display the solution(s)
        var codingSolutions = document.getElementById("coding-solutions");
        if (!quizData.hasSolutions) {
          codingSolutions.innerHTML = "<span class=\"italic-text\">" + quizData.solutions + "</span>";
        } else {
          renderCodeList(codingSolutions, quizData.solutions, "coding-solution", "Solution");
        }
      }
    </script>
  </body>
</html>
